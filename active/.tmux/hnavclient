SESSION_NAME="hnavclient"

# guard against creating existing sessions (attach instead)
tmux has-session -t $SESSION_NAME 2>/dev/null

if [ $? != 0 ]; then
  # create session and add an initial window (detached)
  tmux new-session -s $SESSION_NAME -n editor -d
  tmux send-keys -t $SESSION_NAME:editor.1 'cd hnavclient ; clear' C-m

  # create horizontal pane (right column)
  tmux split-window -h -p 35 -t $SESSION_NAME:editor
  tmux send-keys -t $SESSION_NAME:editor.2 'cd hnavclient ; clear' C-m

  # split right pane vertically
  tmux split-window -v -p 35 -t $SESSION_NAM:editor
  tmux send-keys -t $SESSION_NAME:editor.3 'cd hnavclient ; clear' C-m

  # select first pane
  tmux select-pane -t $SESSION_NAME:editor.1
fi

# attach
tmux attach -t $SESSION_NAME:editor
