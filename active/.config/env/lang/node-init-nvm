# set before initializing `nvm`. Node.js verions will be installed here:
export NVM_DIR=$XDG_DATA_HOME/node

# initialize `nvm`.
[[ -r $(brew --prefix nvm)/nvm.sh ]] && . $(brew --prefix nvm)/nvm.sh
[[ -r $NVM_DIR/bash_completion ]] && . $NVM_DIR/bash_completion

# nvm/node versions to be installed.
nvm_versions=(
  iojs
  0.12
)

# install node versions that are not yet installed.
for version in "${nvm_versions[@]}"; do
  nvm which $version >/dev/null 2>&1
  if [ $? -eq 1 ]; then
    nvm install $version
  fi
done

# ensures the latest installed node (via `nvm install ...`) is in play in new shells.
nvm use 0 >/dev/null
